words=['bleach', 'many', 'mutual', 'impure', 'manned', 'tabby', 'exonerate', 'dispute', 'unwashed', 'unfixed', 'unwritten', 'snowshoe', 'tadpole', 'afford', 'handiwork', 'ripping', 'icon', 'retrace', 'crux', 'crummy', 'seismic', 'voltage', 'each', 'express', 'elephant', 'chasing', 'vaseline', 'levers', 'scuff', 'smitten', 'unwind', 'removing', 'lizard', 'subway', 'banknote', 'baked', 'showroom', 'transpose', 'little', 'copious', 'effort', 'pursuant', 'stuffed', 'pediatric', 'viscosity', 'dragster', 'impale', 'scant', 'untried', 'rental', 'attic', 'obtuse', 'valium', 'disarm', 'pregnancy', 'distress', 'dollhouse', 'tarnish', 'scorch', 'grandma', 'sloping', 'sequester', 'sandfish', 'remark', 'footwear', 'staging', 'sworn', 'starter', 'timothy', 'hankering', 'crane', 'dingbat', 'nacho', 'resigned', 'sandbar', 'reverb', 'blurb', 'lurk', 'unwatched', 'enlighten', 'skewed', 'puppet', 'cathouse', 'cattle', 'empathy', 'schnapps', 'mumble', 'reformist', 'usual', 'booting', 'wrinkly', 'lake', 'credibly', 'headset', 'persevere', 'spiral', 'waged', 'perennial', 'fading', 'pretense', 'mustiness', 'avalanche', 'overtake', 'creatable', 'cardboard', 'cornflake', 'repressed', 'decency', 'nappy', 'muzzle', 'suffix', 'facing', 'blurry', 'cheating', 'winner', 'greeter', 'bonded', 'cure', 'blemish', 'backslid', 'cork', 'example', 'staff', 'tying', 'xerox', 'paparazzi', 'reversing', 'uniformed', 'august', 'arrival', 'untruth', 'macaw', 'squishier', 'ladylike', 'oval', 'chef', 'quiet', 'whiff', 'ragweed', 'chuck', 'barista', 'garbage', 'overfull', 'fructose', 'choosy', 'rising', 'unmoral', 'class', 'viewer', 'onlooker', 'probable', 'citizen', 'splinter', 'wish', 'antitoxic', 'earthly', 'unengaged', 'movable', 'brethren', 'carnation', 'symphony', 'attain', 'litigate', 'shrug', 'last', 'abstract', 'issuing', 'ambiguity', 'thus', 'twitter', 'selective', 'linseed', 'blatancy', 'scrunch', 'glamorous', 'awkward', 'preppy', 'hypnotism', 'outer', 'frying', 'emission', 'rectified', 'smelting', 'squeegee', 'livestock', 'decibel', 'deduct', 'retinal', 'explain', 'nuzzle', 'groggily', 'gladly', 'fool', 'snap', 'stegosaur', 'justly', 'ammonium', 'stuffy', 'rake', 'unloader', 'duller', 'resubmit', 'fetal', 'dwindling', 'upheld', 'finalist', 'nutmeg', 'glorious', 'reemerge', 'distant', 'undoing', 'brunch', 'amiable', 'exceeding', 'yelling', 'nectar', 'variety', 'constable', 'repaint', 'unguided', 'sequence', 'footsie', 'outdoors', 'dimmer', 'traverse', 'commotion', 'blinking', 'twiddling', 'kitty', 'turmoil', 'thirsting', 'eastbound', 'overbook', 'from', 'clarinet', 'undone', 'coconut', 'pushcart', 'italicize', 'smokeless', 'applause', 'seizing', 'always', 'handyman', 'watch', 'morally', 'boxer', 'excuse', 'headless', 'frosty', 'wildfire', 'dandelion', 'undermost', 'clambake', 'fascism', 'flattery', 'greedy', 'aggregate', 'amber', 'sagging', 'wackiness', 'caramel', 'unwomanly', 'outpour', 'relic', 'cuddly', 'nastiness', 'retool', 'reissue', 'matador', 'rubbing', 'agency', 'stipend', 'crept', 'barracuda', 'shamrock', 'kosher', 'mandolin', 'palatable', 'estate', 'fanatic', 'fender', 'spider', 'corporate', 'undermine', 'decimeter', 'gatherer', 'praying', 'puzzle', 'nimbly', 'confirm', 'persecute', 'jailer', 'striving', 'velocity', 'sepia', 'ambiance', 'deafening', 'swirl', 'moocher', 'bristle', 'charting', 'snowcap', 'recall', 'pennant', 'conjuror', 'bolt', 'embargo', 'cake', 'superhero', 'promotion', 'emerald', 'tucking', 'overwrite', 'clock', 'decorated', 'ladder', 'sinuous', 'pushchair', 'pasted', 'afloat', 'change', 'exhaust', 'pastor', 'humiliate', 'ground', 'spending', 'relieving', 'status', 'vanquish', 'spiritual', 'probing', 'briar', 'chimp', 'trial', 'refinish', 'karma', 'sloppy', 'purse', 'wireless', 'unmolded', 'stipulate', 'mastiff', 'common', 'husked', 'rewrite', 'retread', 'flaccid', 'nucleus', 'custodian', 'vindicate', 'caption', 'dust', 'grudge', 'boozy', 'denial', 'endocrine', 'patronage', 'runaround', 'roamer', 'squiggle', 'daintily', 'gambling', 'tigress', 'trapeze', 'crate', 'pampered', 'thermal', 'aspire', 'unrented', 'glue', 'smashing', 'translate', 'womanlike', 'halved', 'crawling', 'flagman', 'nutrient', 'cover', 'ripeness', 'reclining', 'suitor', 'snorkel', 'nicotine', 'movie', 'prison', 'canteen', 'mule', 'preshow', 'flashcard', 'thickness', 'majestic', 'fang', 'disloyal', 'copier', 'traffic', 'bonsai', 'collector', 'scolding', 'pusher', 'dainty', 'throat', 'tweet', 'tissue', 'john', 'mollusk', 'daytime', 'imitate', 'bronzing', 'shorten', 'blend', 'scuba', 'uncouple', 'grower', 'divinity', 'spendable', 'thieving', 'gathering', 'saturday', 'importer', 'stack', 'imagines', 'henna', 'imperfect', 'june', 'pureness', 'sinister', 'rentable', 'preset', 'brownnose', 'filling', 'unhitched', 'dragonish', 'doodle', 'coasting', 'resemble', 'hazily', 'payday', 'mothproof', 'surgical', 't-shirt', 'doubling', 'monitor', 'hardness', 'disfigure', 'crisping', 'immature', 'conceded', 'reverse', 'frantic', 'stress', 'impound', 'precinct', 'snugly', 'equation', 'elixir', 'gusto', 'penniless', 'able', 'vitally', 'nearness', 'produce', 'chaos', 'swerve', 'coral', 'grain', 'knelt', 'deceased', 'untaxed', 'exile', 'payable', 'puzzling', 'riding', 'december', 'wreckage', 'humpback', 'shed', 'populate', 'nanny', 'wrecking', 'qualify', 'subdued', 'retying', 'amaretto', 'eclipse', 'splatter', 'gender', 'pantry', 'operate', 'unleveled', 'stammer', 'chaperone', 'company', 'repackage', 'steep', 'zipfile', 'kisser', 'encourage', 'accuracy', 'petunia', 'deniable', 'footer', 'prodigy', 'bogus', 'eggplant', 'stylist', 'unstamped', 'unmoved', 'antacid', 'atlantic', 'reveler', 'parameter', 'speed', 'blog', 'wolf', 'preface', 'copartner', 'dazzling', 'lettuce', 'footless', 'railroad', 'thrill', 'negative', 'bobtail', 'quirk', 'germinate', 'mutilator', 'leotard', 'powdery', 'copied', 'explicit', 'filing', 'finance', 'uncrushed', 'ferment', 'trousers', 'disallow', 'email', 'shopping', 'buckskin', 'osmosis', 'dance', 'refold', 'impose', 'rabid', 'occupant', 'endpoint', 'margarita', 'anyone', 'backwash', 'playgroup', 'doorman', 'thrash', 'prefix', 'enlarging', 'chest', 'otter', 'carry', 'skylight', 'foyer', 'shorts', 'squid', 'gravy', 'catchable', 'chaps', 'dinghy', 'endurance', 'fretful', 'walk', 'eligible', 'tamper', 'egotism', 'frenzy', 'reset', 'mushiness', 'undertake', 'prayer', 'happy', 'output', 'retorted', 'stalling', 'culpable', 'accustom', 'dimple', 'grueling', 'pretext', 'carwash', 'germproof', 'deletion', 'apprehend', 'doorstop', 'amperage', 'scabby', 'gyration', 'lushly', 'shoplift', 'antiquity', 'swaddling', 'quake', 'pentagon', 'massager', 'blitz', 'flick', 'subpar', 'until', 'sporty', 'humbly', 'trickery', 'capable', 'penknife', 'regress', 'name', 'trace', 'handgrip', 'marbled', 'food', 'sacrament', 'running', 'anvil', 'clique', 'roping', 'unadorned', 'backpedal', 'aghast', 'twig', 'salsa', 'cardigan', 'slacking', 'grapple', 'germless', 'helping', 'childish', 'derby', 'wavy', 'twisting', 'liquefy', 'purist', 'most', 'walrus', 'serving', 'groin', 'epidermal', 'graph', 'penalize', 'hatless', 'recopy', 'tricking', 'urology', 'unskilled', 'laurel', 'scarily', 'reverend', 'monologue', 'cried', 'upright', 'obtrusive', 'activator', 'visor', 'crudely', 'feed', 'contents', 'ribbon', 'bobbing', 'matrix', 'delegate', 'secret', 'stick', 'blimp', 'legacy', 'mural', 'populace', 'dutiful', 'blabber', 'starlet', 'upload', 'transfer', 'underpay', 'celibacy', 'retainer', 'unwary', 'defame', 'compactly', 'derail', 'opacity', 'hunger', 'luminance', 'ritzy', 'celery', 'override', 'implicit', 'study', 'superior', 'urologist', 'wilder', 'grunt', 'retrial', 'pungent', 'ventricle', 'prevent', 'skirt', 'regime', 'elusive', 'disposal', 'scheming', 'undocked', 'purebred', 'blaming', 'grub', 'musky', 'armful', 'enunciate', 'aptitude', 'appraiser', 'sliding', 'spearmint', 'possible', 'unmovable', 'approval', 'consult', 'celibate', 'baking', 'crying', 'marsupial', 'onset', 'obsolete', 'crown', 'machinist', 'percolate', 'serve', 'bouncy', 'unrivaled', 'growing', 'lance', 'tanning', 'thigh', 'blurt', 'immobile', 'conch', 'starlit', 'narrow', 'harvest', 'retype', 'tinfoil', 'hardcover', 'crabgrass', 'trapping', 'unblessed', 'lair', 'stunning', 'egging', 'delicious', 'chatroom', 'herbs', 'botany', 'luridness', 'quantum', 'harpist', 'prissy', 'illusion', 'crowbar', 'vixen', 'croon', 'everyone', 'fresh', 'synapse', 'decode', 'flatterer', 'vacancy', 'fondue', 'breeze', 'stoning', 'uneasy', 'wincing', 'bartender', 'professor', 'resume', 'iciness', 'creasing', 'stubbly', 'previous', 'legible', 'dagger', 'sulk', 'graceless', 'skeletal', 'entitle', 'stooge', 'dreamland', 'neurosis', 'earpiece', 'bobsled', 'devotion', 'recede', 'clavicle', 'reassign', 'cricket', 'come', 'spud', 'trance', 'blandness', 'glazing', 'given', 'pouch', 'goldsmith', 'tint', 'flight', 'headpiece', 'blatantly', 'womb', 'catlike', 'flannels', 'grooving', 'expedited', 'blooming', 'overstep', 'astronomy', 'washable', 'unashamed', 'shirt', 'slather', 'chatty', 'bless', 'steadfast', 'gloater', 'provable', 'entire', 'cheer', 'system', 'conducive', 'ducktail', 'krypton', 'unawake', 'lushness', 'robin', 'hunchback', 'bootleg', 'mustard', 'outwit', 'subduing', 'slum', 'grappling', 'passive', 'footgear', 'deferred', 'dirtiness', 'prism', 'stunner', 'certified', 'unwired', 'marlin', 'smother', 'dried', 'directory', 'angrily', 'repossess', 'grandson', 'stinging', 'macarena', 'sulfide', 'prideful', 'unchain', 'wildly', 'valid', 'outlook', 'brute', 'fling', 'explore', 'delirium', 'trombone', 'herself', 'straining', 'matching', 'diffusive', 'wisplike', 'silenced', 'moody', 'finishing', 'craftily', 'anger', 'reporter', 'earache', 'unisexual', 'scaling', 'culminate', 'clutch', 'dose', 'idly', 'trivial', 'perch', 'tingling', 'batch', 'headsman', 'daffodil', 'oasis', 'astute', 'overhung', 'tightness', 'bunch', 'jumbo', 'consumer', 'aerosol', 'showoff', 'moustache', 'sneer', 'iron', 'dyslexia', 'density', 'scrabble', 'doorframe', 'sanitizer', 'hassle', 'confused', 'glaring', 'avenge', 'huntsman', 'reentry', 'subtract', 'engross', 'paralyze', 'pushiness', 'endowment', 'squishy', 'swiftly', 'exes', 'remake', 'strategic', 'diminish', 'ransack', 'almost', 'onshore', 'subscribe', 'singer', 'rocking', 'ardently', 'quotation', 'colt', 'limelight', 'delivery', 'cause', 'vanity', 'aerobics', 'jacket', 'backup', 'gangly', 'attribute', 'threefold', 'ungraded', 'disown', 'occupancy', 'awning', 'margin', 'uncurled', 'untwist', 'convene', 'distort', 'phoniness', 'elude', 'saddling', 'couch', 'veteran', 'likeness', 'woven', 'almighty', 'unseemly', 'explode', 'shredding', 'reheat', 'whimsical', 'process', 'undergo', 'recapture', 'creative', 'letter', 'violator', 'single', 'good', 'fastness', 'virtuous', 'festive', 'hangout', 'stunt', 'audacity', 'ended', 'baggage', 'pronto', 'antsy', 'mardi', 'knoll', 'porcupine', 'ambitious', 'capably', 'snowbird', 'strangely', 'aspirate', 'outbound', 'unselect', 'stench', 'chlorine', 'purplish', 'uneaten']
words=['app', 'apple', 'bat', 'game', 'gamete']
def create(words):
    words.sort()
    directory=[]
    for i in range(len(words)):
        looker=directory
        for j in range(len(words[i])):
            for k in range(len(looker)):
                if looker[k][0]==words[i][j] and type(looker[k]) is list:
                    looker=looker[k]
                    break
            else:
                looker.append([words[i][j]])
                looker=looker[-1]
        looker.insert(1,words[i])
    return directory

def add(word,directory):
    looker=directory
    for j in range(len(word)):
        for k in range(len(looker)):
            if looker[k][0]==word[j] and type(looker[k]) is list:
                looker=looker[k]
                break
        else:
            looker.append([word[j]])
            looker=looker[-1]
    if len(looker)==1:
        looker.append(word)
        return "Added word to directory"
    else:
        if type(looker[1]) is list:
            looker.insert(1,word)
            return "Added word to directory"
        else:
            return "Word already existed in directory"

def dfs(directory):
    stack=[]
    collect=[]
    if len(directory)>1:
        if type(directory[1]) is str and len(directory[1])>1:
            collect.append(directory[1])
    for j in range(len(directory)):
        if type(directory[j]) is list:
            stack.append(directory[j])
            x=directory[j]
            while stack!=[]:
                x=stack[-1]
                stack.pop(-1)
                for i in range(len(x)):
                    if type(x[i]) is str and i!=0:
                        collect.append(x[i])
                    elif type(x[i]) is list:
                        stack.append(x[i])
    return collect

def count_words(substring,directory):
    collect=dfs(directory)
    count=0
    for i in collect:
        if substring in i:
            count+=1
    return count

def finder(prefix,directory):
    looker=directory
    for j in range(len(prefix)):
        for k in range(len(looker)):
            if looker[k][0]==prefix[j] and type(looker[k]) is list:
                looker=looker[k]
                break
        else:
            looker=[]
            break
    else:
        looker=dfs(looker)
        looker.sort()
    return looker

def delete(word,directory):
    looker=directory
    track=[0]*len(word)
    printer=''
    for j in range(len(word)):
        for k in range(len(looker)):
            if looker[k][0]==word[j] and type(looker[k]) is list:
                looker=looker[k]
                track[j]+=len(looker)-1
                break
        else:
            printer="Word not in directory"
            break
    else:
        if looker[1]!=word:
            printer="Word not in directory"
        else:
            printer="Word has been deleted from directory"
            looker.pop(1)
            bruh=0
            for i in range(len(word)-1,-1,-1):
                if track[i]==1:
                    bruh+=1
                else:
                    break
            bruh=len(word)-bruh
            looker=directory
            last=directory
            if bruh!=len(word):
                for j in range(bruh+1):
                    for k in range(len(looker)):
                        if looker[k][0]==word[j] and type(looker[k]) is list:
                            last=looker
                            looker=looker[k]
                last.remove(looker)
    return printer

def test():
    words=['app', 'apple', 'bat', 'game', 'gamete']
    assert create(words)==[['a', ['p', ['p', 'app', ['l', ['e', 'apple']]]]], ['b', ['a', ['t', 'bat']]], ['g', ['a', ['m', ['e', 'game', ['t', ['e', 'gamete']]]]]]]
    assert count_words('a',create(words))==5
    assert finder('app',create(words))==['app','apple']

test()
directory=[]
while True:
    print("1 - Create Dictionary")
    print("2- Interactive Input System")
    print("3 - Count Words Containing a Substring")
    print("4 - Add Word")
    print("5 - Delete Word")
    print("6 - View directory")
    print("7 - Exit")
    choice=int(input("Enter choice: "))
    if choice==1:
        directory=create(words)
        print(directory)
    elif choice==2:
        prefix=input("Enter prefix: ")
        temp=finder(prefix,directory)
        print("Words in list with that prefix are as follows: ",end="")
        print(*temp)
    elif choice==3:
        substring=input("Enter substring: ")
        count=count_words(substring,directory)
        print("Number of words in directory with that substring are:",count)
    elif choice==4:
        adding=input("Enter word to add: ")
        print(add(adding,directory))
    elif choice==5:
        deleting=input("Enter word to delete: ")
        print(delete(deleting,directory))
    elif choice==6:
        print(directory)
    elif choice==7:
        break